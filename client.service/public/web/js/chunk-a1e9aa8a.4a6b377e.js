(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a1e9aa8a"],{"137f":function(e,t,r){"use strict";r("e263")},"3a98":function(e,t,r){"use strict";r.r(t);var o=r("7a23");Object(o["pushScopeId"])("data-v-d5c3bce6");var n={class:"forward-wrap"},c={class:"head"},l=Object(o["createTextVNode"])("增加转发"),a=Object(o["createTextVNode"])("刷新列表"),u=Object(o["createTextVNode"])("编辑"),i={class:"remark"},d=Object(o["createElementVNode"])("p",{style:{"line-height":"2rem"}},"1、源端是你的，目标是对方的",-1),b=Object(o["createElementVNode"])("p",{style:{"line-height":"2rem"}},[Object(o["createTextVNode"])("2、例如 源是"),Object(o["createElementVNode"])("strong",null,"127.0.0.1:8080"),Object(o["createTextVNode"])("，目标是"),Object(o["createElementVNode"])("strong",null,"【B客户端】"),Object(o["createTextVNode"])("的"),Object(o["createElementVNode"])("strong",null,"127.0.0.1:12138"),Object(o["createTextVNode"])(" ，则在你电脑访问 127.0.0.1:8080则会访问到 B客户端的127.0.0.1:12138服务")],-1),f=Object(o["createElementVNode"])("p",{style:{"line-height":"2rem"}},"3、web是短连接，其它服务长链接",-1),O=Object(o["createTextVNode"])("取 消"),j=Object(o["createTextVNode"])("确 定");function m(e,t,r,m,p,s){var V=Object(o["resolveComponent"])("el-button"),h=Object(o["resolveComponent"])("el-table-column"),w=Object(o["resolveComponent"])("el-switch"),g=Object(o["resolveComponent"])("el-popconfirm"),N=Object(o["resolveComponent"])("el-table"),C=Object(o["resolveComponent"])("el-alert"),x=Object(o["resolveComponent"])("el-input"),v=Object(o["resolveComponent"])("el-form-item"),_=Object(o["resolveComponent"])("el-col"),T=Object(o["resolveComponent"])("el-row"),y=Object(o["resolveComponent"])("el-option"),D=Object(o["resolveComponent"])("el-select"),S=Object(o["resolveComponent"])("el-form"),k=Object(o["resolveComponent"])("el-dialog"),I=Object(o["resolveDirective"])("loading");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",n,[Object(o["createElementVNode"])("div",c,[Object(o["createVNode"])(V,{type:"primary",size:"mini",style:{"margin-right":".6rem"},onClick:m.handleAdd},{default:Object(o["withCtx"])((function(){return[l]})),_:1},8,["onClick"]),Object(o["createVNode"])(V,{size:"mini",onClick:m.getData},{default:Object(o["withCtx"])((function(){return[a]})),_:1},8,["onClick"])]),Object(o["withDirectives"])(Object(o["createVNode"])(N,{data:e.list,border:"",size:"mini"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{prop:"Desc",label:"说明"}),Object(o["createVNode"])(h,{prop:"Sopurce",label:"来源"},{default:Object(o["withCtx"])((function(e){return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.row.SourceIp)+":"+Object(o["toDisplayString"])(e.row.SourcePort),1)]})),_:1}),Object(o["createVNode"])(h,{prop:"Desc",label:"目标"},{default:Object(o["withCtx"])((function(e){return[Object(o["createElementVNode"])("span",null,"【"+Object(o["toDisplayString"])(e.row.TargetName)+"】",1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.row.TargetIp)+":"+Object(o["toDisplayString"])(e.row.TargetPort),1)]})),_:1}),Object(o["createVNode"])(h,{prop:"AliveType",label:"连接类型",width:"80"},{default:Object(o["withCtx"])((function(t){return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.aliveTypes[t.row.AliveType]),1)]})),_:1}),Object(o["createVNode"])(h,{prop:"Listening",label:"状态",width:"65"},{default:Object(o["withCtx"])((function(e){return[Object(o["createVNode"])(w,{disabled:!e.row.Editable,onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(){}),["stop"])),onChange:function(t){return m.onListeningChange(e.row)},modelValue:e.row.Listening,"onUpdate:modelValue":function(t){return e.row.Listening=t}},null,8,["disabled","onChange","modelValue","onUpdate:modelValue"])]})),_:1}),Object(o["createVNode"])(h,{prop:"todo",label:"操作",width:"145",fixed:"right",class:"t-c"},{default:Object(o["withCtx"])((function(e){return[Object(o["createVNode"])(V,{size:"mini",disabled:!e.row.Editable,onClick:function(t){return m.handleEdit(e.row)}},{default:Object(o["withCtx"])((function(){return[u]})),_:2},1032,["disabled","onClick"]),Object(o["createVNode"])(g,{title:"删除不可逆，是否确认",onConfirm:function(t){return m.handleDel(e.row)}},{reference:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(V,{type:"danger",disabled:!e.row.Editable,size:"mini",icon:"el-icon-delete"},null,8,["disabled"])]})),_:2},1032,["onConfirm"])]})),_:1})]})),_:1},8,["data"]),[[I,e.loading]]),Object(o["createElementVNode"])("div",i,[Object(o["createVNode"])(C,{title:"说明",type:"info","show-icon":"",closable:!1},{default:Object(o["withCtx"])((function(){return[d,b,f]})),_:1})]),Object(o["createVNode"])(k,{title:"转发","destroy-on-close":"",modelValue:e.showAdd,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.showAdd=t}),center:"","close-on-click-modal":!1,width:"600px"},{footer:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(V,{onClick:t[8]||(t[8]=function(t){return e.showAdd=!1})},{default:Object(o["withCtx"])((function(){return[O]})),_:1}),Object(o["createVNode"])(V,{type:"primary",loading:e.loading,onClick:m.handleSubmit},{default:Object(o["withCtx"])((function(){return[j]})),_:1},8,["loading","onClick"])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(S,{ref:"formDom",model:e.form,rules:e.rules,"label-width":"80px"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{label:"","label-width":"0"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(T,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_,{span:12},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{label:"源IP",prop:"SourceIp"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(x,{modelValue:e.form.SourceIp,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.SourceIp=t})},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(o["createVNode"])(_,{span:12},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{label:"源端口",prop:"SourcePort"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(x,{modelValue:e.form.SourcePort,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.SourcePort=t})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(v,{label:"","label-width":"0"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(T,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_,{span:12},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{label:"目标",prop:"TargetName"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(D,{modelValue:e.form.TargetName,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.TargetName=t}),placeholder:"选择类型"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.clients,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(y,{key:t,label:e.Name,value:e.Name},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1}),Object(o["createVNode"])(_,{span:12},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{label:"连接类型",prop:"AliveType"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(D,{modelValue:e.form.AliveType,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.form.AliveType=t}),placeholder:"选择类型"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.aliveTypes,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(y,{key:t,label:e,value:t},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(v,{label:"","label-width":"0"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(T,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_,{span:12},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{label:"目标IP",prop:"TargetIp"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(x,{modelValue:e.form.TargetIp,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.form.TargetIp=t})},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(o["createVNode"])(_,{span:12},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{label:"目标端口",prop:"TargetPort"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(x,{modelValue:e.form.TargetPort,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.form.TargetPort=t})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(v,{label:"说明",prop:"Desc"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(x,{modelValue:e.form.Desc,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.form.Desc=t})},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"])]})),_:1},8,["modelValue"])])}Object(o["popScopeId"])();var p=r("5530"),s=(r("a9e3"),r("a1e9")),V=r("97af"),h=function(){return Object(V["a"])("tcpforward/list")},w=function(e){return Object(V["a"])("tcpforward/start",{ID:e})},g=function(e){return Object(V["a"])("tcpforward/stop",{ID:e})},N=function(e){return Object(V["a"])("tcpforward/del",{ID:e})},C=function(e){return Object(V["a"])("tcpforward/add",{ID:e.ID,Content:JSON.stringify(e)})},x=r("7864"),v=r("3fd2"),_={setup:function(){var e=Object(v["a"])(),t=Object(s["p"])({loading:!1,showAdd:!1,list:[],aliveTypes:["长连接","短连接"],form:{ID:0,SourceIp:"0.0.0.0",SourcePort:0,TargetName:"B客户端",TargetIp:"127.0.0.1",TargetPort:0,AliveType:0,Desc:""},rules:{SourceIp:[{required:!0,message:"必填",trigger:"blur"}],SourcePort:[{required:!0,message:"必填",trigger:"blur"},{type:"number",min:1,max:65535,message:"数字 1-65535",trigger:"blur",transform:function(e){return Number(e)}}],TargetIp:[{required:!0,message:"必填",trigger:"blur"}],TargetPort:[{required:!0,message:"必填",trigger:"blur"},{type:"number",min:1,max:65535,message:"数字 1-65535",trigger:"blur",transform:function(e){return Number(e)}}]}}),r=function(){h().then((function(e){t.list=e}))};r();var o=function(e){N(e.ID).then((function(){r()}))},n=JSON.parse(JSON.stringify(t.form)),c=function(){for(var e in t.showAdd=!0,n)t.form[e]=n[e]},l=function(e){for(var r in t.showAdd=!0,e)t.form[r]=e[r]},a=Object(s["r"])(null),u=function(){a.value.validate((function(e){if(!e)return!1;t.loading=!0,t.form.SourcePort=Number(t.form.SourcePort),t.form.TargetPort=Number(t.form.TargetPort),C(t.form).then((function(){t.loading=!1,t.showAdd=!1,r()})).catch((function(e){x["b"].error(e),t.loading=!1}))}))},i=function(e){e.Listening?w(e.ID).then(r).catch(r):g(e.ID).then(r).catch(r)};return Object(p["a"])(Object(p["a"])(Object(p["a"])({},Object(s["z"])(t)),Object(s["z"])(e)),{},{getData:r,handleDel:o,handleAdd:c,handleEdit:l,onListeningChange:i,formDom:a,handleSubmit:u})}};r("137f");_.render=m,_.__scopeId="data-v-d5c3bce6";t["default"]=_},e263:function(e,t,r){}}]);